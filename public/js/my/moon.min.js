/*
 * Moon v0.2.5
 * (c) 2016 Kabir Shah
 * Released under the MIT License.
 */
!function(a){window.define&&define.amd?define(a):window.Moon=a()}(function(){function c(c){function j(){var a={};return e(Object.keys(f),function(b,c){Object.defineProperty(a,c,{set:function(a){f[c]=a;var b=g[c];e(b,function(){this.node.textContent=l(this.raw)})},get:function(){return f[c]}})}),a}function k(a){e(a.attributes,function(){m(this)}),e(a.childNodes,function(){return 1===this.nodeType?k(this):void m(this)})}function l(c){for(var d="",e=c.split(a),g=0;g<e.length;g++){var h=e[g].split(b);d+=1===h.length?e[g]:f[h[0]]+h[1]}return d}function m(c){var d=c.textContent.split(a);if(d.length){for(var e="",h=0;h<d.length;h++){var i=d[h].split(b);1===i.length?e+=d[h]:(e+=f[i[0]]+i[1],g[i[0]].push({node:c,raw:c.textContent}))}c.textContent=e}}this.root=document.querySelector(c.el);var f=this.pureModel=c.model||{},g={};this.model=j();var h=this;for(var i in f)g[i]=[];k(this.root,c.model),"form"===c.type&&d(this.root,["keyup","click"],function(a){var b=a.target.getAttribute("m-model");b&&a.target.value!=f[b]&&(h.model[b]=a.target.value)})}function d(a,b,c){Array.isArray(b)?e(b,function(){d(a,this,c)}):a.addEventListener(b,c,!0)}function e(a,b){for(var c=0;c<a.length;c++)b.call(a[c],c,a[c])}var a="{{",b="}}";return c});
